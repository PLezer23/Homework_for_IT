def menu_decorator(func):
    def wrapper(*args, **kwargs):
        print("---Меню---")
        func(*args, **kwargs)
        print("---Конец Меню---")
    return wrapper

def count_calls(func):
    func.call_count = 0    def wrapper(*args, **kwargs):
        func.call_count += 1        return func(*args, **kwargs)

    wrapper.call_count = func.call_count
    return wrapper

@menu_decorator def display_menu():
    print("1. Добавить продукт")
    print("2. Удалить продукт")
    print("3. Изменить количество продукта")
    print("4. Показать все продукты")
    print("5. Выйти")

@count_callsdef add_product(products):
    name = input("Введите имя продукта: ")
    quantity = int(input("Введите количество продукта: "))
    products[name] = products.get(name, 0) + quantity
    print(f"{name} добавлен с количеством {quantity}. Текущее количество: {products[name]}.")


@count_callsdef remove_product(products):
    name = input("Введите имя продукта для удаления: ")
    if name in products:
        del products[name]
        print(f"{name} удален.")
    else:
        print(f"{name} не найден")


@count_callsdef change_quantity(products):
    name = input("Введите имя продукта для изменения количества: ")
    if name in products:
        quantity = int(input("Введите новое количество: "))
        products[name] = quantity
        print(f"Количество {name} изменено на {quantity}.")
    else:
        print(f"{name} не найден.")

@count_callsdef show_products(products):
    if not products:
        print("Список продуктов пуст.")
    else:
        print("Продукты и их количество:")
        for name, quantity in products.items():
            print(f"{name}: {quantity}")
def main():
    products = {}
    while True:
        display_menu()
        choice = input("Выберите действие (1-5): ")
        if choice == '1':
            add_product(products)
        elif choice == '2':
            remove_product(products)
        elif choice == '3':
            change_quantity(products)
        elif choice == '4':
            show_products(products)
        elif choice == '5':
            print("Выход из программы.")
            break        else:
            print("Неверный выбор. Пожалуйста, попробуйте снова.")



    print("\nСтатистика вызовов функций:")
    print(f"add_product вызван {add_product.call_count} раз.")
    print(f"remove_product вызван {remove_product.call_count} раз.")
    print(f"change_quantity вызван {change_quantity.call_count} раз.")
    print(f"show_products вызван {show_products.call_count} раз.")


main()





